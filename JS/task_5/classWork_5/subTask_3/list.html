<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="tov">
        

    </div>


    <script>
        let div = document.querySelector('.tov')
        let body = document.querySelector('body')
        let newArr = []
        div.style.display = 'flex'
        div.style.columnGap = '20px'
        div.style.justifyContent = 'center'
        let clear = document.createElement('button')
        clear.style.position = 'absolute'
        clear.style.left = '20px'
        clear.onclick = comletClear
        clear.innerHTML = 'Clear'
        div.appendChild(clear)
        function comletClear(){
            let del = this.parentElement
            console.log(del)
            body.removeChild(del)
            localStorage.clear()

        }
        
for (let i = 1; i < localStorage.length+1; i++){
    newArr.push(localStorage.getItem([i]).split(','))
}
for(item of newArr){
        let newElem = document.createElement('div')
        newElem.style.background = '#808080'
        newElem.style.padding = '20px'
        let btn = document.createElement('button')
        btn.classList.add('btn')
        btn.innerHTML = 'X'
        btn.onclick = del
        newElem.appendChild(btn)
        let name = document.createElement('p')
        name.innerHTML = `Название товара: ${item[0]}`
        newElem.appendChild(name)
        let price = document.createElement('p')
        price.innerHTML = `Цена: ${item[1]}`
        newElem.appendChild(price)
        let quantity = document.createElement('p')
        quantity.innerHTML = `Количество: ${item[2]}`
        newElem.appendChild(quantity)
        let pic = document.createElement('img')
        pic.style.width = '100px'
        pic.src = item[3]
        newElem.appendChild(pic)
        div.appendChild(newElem)
        
    }
    function del(){
        let delite = this.parentElement
        div.removeChild(delite)
    }
    
    </script>
</body>
</html>